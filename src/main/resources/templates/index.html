<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<ol>
    <li th:each="el : ${movieList}">
        <a th:href="'https://www.themoviedb.org/movie/' + ${el.id()}"
           th:text="${el.title()} + ' Rating: ' + ${el.vote_average()}"></a>
    </li>
</ol>

<ol>
    <li th:each="el : ${movieList}" th:text="${el.title()}"></li>
</ol>

<form id="comment-section" method="post" th:action="@{/add-comment}">
    <label for="comment">Comment: </label>
    <textarea id="comment" th:name="comment" required maxlength="140" autocomplete="off"></textarea>
    <label for="author">Author: </label>
    <input id="author" type="text" th:name="author" required maxlength="20" autocomplete="off">
    <button>Send</button>
</form>

<div id="APIs">
    <form id="allAuthors" method="get" th:action="@{/comments/all}" target="_blank">
        <button>All comments</button>
    </form>

    <form id="oneAuthorForm" method="get" target="_blank">
        <label for="commentAuthor">Author:</label>
        <input type="text" id="commentAuthor" />
        <button onclick="submitForm()">Submit</button>
    </form>
</div>

<script th:inline="javascript">
    function submitForm() {
        var commentAuthorValue = document.getElementById('commentAuthor').value;

        document.getElementById('oneAuthorForm').action = '/comments/users/' + commentAuthorValue;

        document.getElementById('oneAuthorForm').submit();
    }
</script>


</body>
</html>